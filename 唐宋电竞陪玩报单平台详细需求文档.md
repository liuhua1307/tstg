# 唐宋电竞陪玩报单平台详细需求文档

## 1. 重点需求概述

唐宋电竞陪玩报单平台的核心功能包括：

- **内部成员账户注册与管理：** 允许内部员工注册、登录并管理其账户信息。
- **客户账户注册、充值余额与查询系统：** 支持客户注册，并提供余额充值和查询功能。
- **不同类别订单开通：** 允许配置和管理不同类型的陪玩订单服务。
- **陪玩报单：** 提供陪玩人员提交订单报单的界面和功能。
- **陪玩报单审批：** 实现对陪玩报单的审核、状态更新和管理。

## 2. 功能需求

### 2.1. 内部成员账户注册与管理

#### 2.1.1. 内部成员注册

- **描述：** 系统应提供一个界面，允许管理员或授权用户注册新的内部成员账户。
  - **参考图片：** ![添加新成员页面图片](./assets/image-20250712152719328.png)
- **输入字段：**
  - **账号：** 唯一标识符，用于登录。
  - **密码：** 账户安全凭证。
  - **部门：** 内部成员所属部门（例如：运营部、技术部等）。
  - **姓名：** 内部成员的真实姓名。
  - **手机号码：** 内部成员的联系电话。
  - **备注：** 任何需要额外说明的信息。
  - **状态：** 默认为“正常”，可选择。
- **功能：**
  - 新成员注册成功后，系统应自动创建其账户并分配初始权限。
  - 系统应提供密码加密存储机制。
  - 支持添加分组成员设置。

#### 2.1.2. 内部成员管理

- **描述：** 系统应提供一个列表界面，展示所有已注册的内部成员信息，并允许进行管理操作。
  - **参考图片：** 
    - ![内部成员管理列表图片](./assets/image-20250712152739918.png)
    - ![内部成员登录记录图片](./assets/image-20250712152825377.png)
- **显示信息：**
  - 账号
  - 姓名
  - 部门
  - 手机号码
  - 状态（例如：正常、禁用）
  - 最近登录时间
  - 最近登录IP
  - 操作（例如：编辑、禁用/启用、删除）
  - 用户角色（例如：超级管理员、普通管理员、陪玩）
  - 提成比例
  - 是否开启
  - 是否审核
  - 是否可报单
  - 是否可接单
  - 录入人
  - 录入时间
  - 归属人
  - 归属时间
- **功能：**
  - **搜索/筛选：** 支持按账号、姓名、部门、手机号码、状态、用户角色等条件进行搜索和筛选。
  - **编辑：** 允许管理员修改内部成员的除账号外的其他信息，包括用户角色、提成比例、是否开启、是否审核、是否可报单、是否可接单等。
  - **状态管理：** 允许管理员启用或禁用内部成员账户。
    - **示例状态：** 正常、禁用。
  - **删除：** 允许管理员删除内部成员账户（需谨慎操作，可考虑逻辑删除）。
  - **分页：** 支持对成员列表进行分页显示。

### 2.2. 客户账户管理与余额系统

#### 2.2.1. 客户账户注册（FR-C-001）

- **描述：** 系统应提供一个界面，允许管理员或授权用户注册新的客户账户。
  - **参考图片：**
    - ![添加客户账户页面图片](./assets/image-20250712152940366.png)
    - ![新建会员页面图片](./assets/image-20250712152957424.png)
- **输入字段：**
  - **客户ID：** 唯一标识符，可由系统自动生成或手动输入。
  - **客户名称：** 客户的昵称或真实姓名。
  - **联系方式：** 客户的联系方式（例如：微信、QQ、手机号等）。
  - **登录账号：** 客户用于登录的账号，方便登录系统记录。
  - **会员生日：** 客户的生日。
  - **房间码：** 可能与特定陪玩或团队关联的房间码。
  - **附加信息1、2、3：** 预留的额外信息字段。
  - **备注：** 任何需要额外说明的信息。
  - **专属折扣：** 无折扣或固定折扣。
  - **哪个平台老板：** 选择所属平台老板。
  - **专属服务客服：** 选择专属服务客服。
  - **初始存实充：** 客户初始充值金额。
  - **历史消费总额：** 客户历史消费总额。
  - **历史实际充值总额：** 客户历史实际充值总额。
- **功能：**
  - 新客户注册成功后，系统应自动创建其账户。
  - 支持生成随机登录账号。
  - 新的消费将自动在此基础上累计。
  - 在系统充值信息将自动在此基础上累计（实际充值）。

#### 2.2.2. 客户余额查询（FR-C-002）

- **描述：** 系统应提供一个界面，展示所有客户的余额信息及消费记录。
  - **参考图片：** 
    - ![客户余额查询列表图片](./assets/image-20250712153204588.png)
    - ![会员管理列表图片](./assets/image-20250712153225639.png)
- **显示信息：**
  - 客户ID
  - 客户名称
  - 联系方式
  - 期初余额
  - 期末余额
  - 充值金额
  - 消费金额
  - 折扣金额
  - 赠送金额
  - 录入时间
  - 操作（例如：充值、编辑）
  - 会员号
  - 电话
  - 账号
  - 性别
  - 录入人
  - 录入时间
  - 会员生日
  - 操作（例如：编辑、充值、查看）
- **功能：**
  - **搜索/筛选：** 支持按客户ID、客户名称、联系方式、会员号、电话等条件进行搜索和筛选。
  - **分页：** 支持对客户列表进行分页显示。
  - 支持按不同状态（例如：全部、正常、禁用、过期）进行筛选。

#### 2.2.3. 客户余额充值（FR-C-003）

- **描述：** 系统应提供一个界面，允许管理员对指定客户账户进行余额充值操作。
  - **参考图片：** 
    - ![会员充值弹窗图片](./assets/image-20250712153252066.png)
- **输入字段：**
  - **可用金额：** 显示当前客户的可用余额。
  - **实充金额：** 用户实际支付的金额。
  - **赠送金额：** 作为赠品额外赠送给客户的金额。
  - **付款方式：** 选择充值的支付方式，包括微信、支付宝、银行转账、平台、内部、其他。
  - **收款单号：** 支付流水号，支持多笔单号输入，一行一笔单号。
  - **备注：** 充值备注信息（非必填）。
- **计算逻辑：** 本次充值总额 = 实充金额 + 赠送金额。
- **功能：**
  - 充值成功后，客户的账户余额应实时更新。
  - 充值记录应被保存，以便后续查询和审计。
  - 充值操作前应有“您正在对会员进行充值操作”的提示。

### 2.3. 订单类别管理（FR-OC-001）

- **描述：** 系统应提供一个界面，允许管理员配置、编辑和管理不同类型的陪玩订单服务。
  - **参考图片：** 
    - ![订单类别管理列表图片](./assets/image-20250712153327438.png)
    - ![订单类别下拉菜单图片](./assets/image-20250712153341342.png)
- **显示信息：**
  - 订单名称
  - 排序序号
  - 是否开启
  - 使用场景
  - 抽成比例
  - 操作（例如：编辑、删除）
  - 是否参与
  - 是否必填
  - 是否加速
  - 附加信息
- **功能：**
  - **添加类别：** 允许添加新的订单类别，并设置其名称、排序、是否开启、使用场景、抽成比例、是否参与、是否必填、是否加速、附加信息。
  - **编辑类别：** 允许修改现有订单类别的各项属性。
  - **删除类别：** 允许删除不再需要的订单类别。
  - **状态管理：** 允许启用或禁用某个订单类别。
    - **示例状态：** 开启、关闭。
- **示例订单类别：** 三角洲行动、拍卖单、瓦罗兰特、明星陪、英雄联盟等。

### 2.4. 陪玩报单（FR-PO-001）

- **描述：** 系统应提供一个界面，供陪玩人员提交其完成的陪玩订单报单。

  - **参考图片：** 
    - ![陪玩报单页面图片](./assets/image-20250712153441056.png)
    - ![添加报单页面图片](./assets/image-20250712153454969.png)

- **输入字段：**

  - **智能识别报单内容：** 支持将格式化文本粘贴到此区域，系统自动识别并填充相关字段（例如：老指ID、时长、游戏品类、陪玩服、陪玩报单）。

    - **示例：**

      ```
      老指ID: XXXX
      时长: 2小时
      游戏品类: 英雄联盟
      陪玩服: 艾欧尼亚
      陪玩报单: 2小时大乱斗
      ```

  - **游戏：** 陪玩订单所属的游戏。

  - **项目分类：** 订单的具体项目分类。

  - **陪玩等级：** 陪玩人员的等级。

  - **开始时间：** 陪玩订单的开始时间。

  - **结束时间：** 陪玩订单的结束时间。

  - **陪玩时长：** 订单持续的小时数。

  - **单价：** 每小时的陪玩单价。

  - **报单人：** 提交报单的陪玩人员。

  - **老板名称/会员号/老板名：** 客户的名称或会员ID。

  - **对应会员：** 自动匹配或手动选择对应的客户会员。

  - **折扣总价：** 订单的总折扣金额。

  - **专属折扣：** 是否为专属折扣。

  - **内部备注：** 陪玩人员的内部备注。

  - **图片上传：** 允许上传订单相关图片。

  - **是否队友：** 是/否。

  - **服务附加说明：** 文本输入。

  - **报单时间：** 自动获取当前时间。

  - **模式：** 报单模式。

  - **备注：** 订单备注。

- **功能：**

  - **自动计算：** 根据时长、单价和折扣自动计算订单总价。
  - **提交报单：** 提交报单后，订单状态应自动变为“待处理”，等待审批。
  - **错误提示：** 对必填项缺失或格式不正确的字段提供明确的错误提示。
  - **报单设置：** 提供报单设置入口，用于配置智能识别规则。

### 2.5. 陪玩报单审批与管理

#### 2.5.1. 报单审批流程（FR-POA-001）

- **描述：** 系统应提供一个界面，供管理员或授权用户对陪玩提交的报单进行审批操作。
  - **参考图片：**
    - ![订单状态下拉菜单图片](./assets/image-20250712153542658.png)
- **订单状态：** 报单应具有以下生命周期状态：
  - **待处理：** 陪玩提交报单后的初始状态。
  - **驳回：** 审批未通过的状态，需注明驳回原因。
  - **已确认：** 审批通过，订单已确认。
  - **已结算：** 订单款项已与陪玩结算。
  - **已完成：** 订单已全部完成。
  - **已退回：** 订单因某种原因被退回。
- **功能：**
  - **状态更新：** 审批人员可以手动更改订单状态（例如：从“待处理”到“已确认”或“驳回”）。
  - **驳回原因：** 当订单被驳回时，系统应要求输入驳回原因。

#### 2.5.2. 报单列表与筛选（FR-POA-002）

- **描述：** 系统应提供一个列表界面，展示所有陪玩报单，并支持按状态进行筛选。
  - **参考图片：**
    - ![报单状态筛选图片](./assets/image-20250712153612459.png)
    - ![报单列表高级筛选图片](./assets/image-20250712153627310.png)
- **显示信息：**
  - 订单编号
  - 报单人
  - 会员名称
  - 游戏
  - 项目分类
  - 陪玩时长
  - 单价
  - 总价
  - 订单状态
  - 提交时间
  - 操作（例如：查看详情、审批）
  - 结算状态
  - 是否结算
  - 结算时间
  - 付款流水号
  - 付款方式
  - 所属平台
  - 所属老板
  - 所属陪玩
  - 订单类别
  - 订单状态
- **功能：**
  - **按状态筛选：** 提供清晰的筛选选项（例如：全部、待处理、驳回、已确认、已结算、已完成、已退回），点击后显示对应状态的订单。
  - **高级搜索：** 支持按订单编号、报单人、会员名称、游戏、项目分类、时间范围、结算状态、付款流水号、付款方式、所属平台、所属老板、所属陪玩、订单类别、订单状态等进行组合搜索。
    - **示例筛选条件：**
      - **时间范围：** 可选择日期范围，例如“2025-06-01 00:00:00 - 2025-07-11 23:59:59”。
      - **订单状态：** 下拉选择“待处理”、“驳回”、“已确认”等。
      - **所属平台/老板/陪玩：** 下拉选择对应选项。
      - **订单类别：** 下拉选择“三角洲行动”、“拍卖单”等。
  - **分页：** 支持对报单列表进行分页显示。
  - 显示当前筛选条件下的总报单数、总时长、总金额、总提成等统计信息。
    - **示例统计信息：** “本次报单数量258.6万，设计报单金额19991.4元，总计利润4220.0元。”

## 3. 设计理念与预期效果

该平台的预期目标是简洁、方便、好用 。

- **功能侧重：** 平台设计面向客户时，不需要客户知晓其隐私 ；面向陪玩时，需方便收集信息、管理提成、审批订单 。
- **界面设计：** UI 界面并不需要多好看 ，越简约越好 ，但是也需要留白的部分 。

> 补充声明：最终的开发实现可能会根据实际开发情况采用不同的技术方案，因此最终成果可能与本文档中的需求不能做到 100% 一致。但是，我们将保证所有需求文档中列出的功能都能够完整实现。

后续如有任何内容和问题，可随时沟通 。